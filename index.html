<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Confined Space Coach • INFRATEC Training</title>
  <style>
    :root{
      /* INFRATEC look */
      --brand:#18A4D6;          /* cyan from banner */
      --brand-dark:#0D3554;     /* deep navy */
      --ink:#0d1117;            /* near-black */
      --bg:#f6f8fc;             /* light page */
      --card:#ffffff;           /* panels */
      --muted:#5b6b7f;
      --ring:rgba(24,164,214,.25);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:var(--bg);
    }
    .hero{
      background:linear-gradient(90deg, var(--brand-dark) 0%, #1c4b77 45%, var(--brand) 100%);
      color:#fff;
      padding:28px 16px;
    }
    .hero .wrap{max-width:1000px; margin:0 auto; display:flex; align-items:center; gap:18px;}
    .logo{width:170px; max-width:30vw}
    h1{margin:8px 0 6px; font-size:clamp(22px,3.4vw,34px)}
    .tag{opacity:.95; font-size:14px}

    .wrap-main{max-width:860px; margin:20px auto 40px; padding:0 16px;}
    .panel{
      background:var(--card); border:1px solid #e7ecf4; border-radius:var(--radius);
      box-shadow:0 10px 30px rgba(13,17,23,.06);
      padding:18px;
    }
    label{display:block; margin:0 0 8px; color:var(--muted); font-size:14px}
    textarea{
      width:100%; min-height:120px; resize:vertical;
      border:1px solid #cfd8e6; border-radius:12px; outline:none;
      padding:12px; font-size:15px; background:#fbfdff;
      transition:box-shadow .15s, border-color .15s;
    }
    textarea:focus{border-color:var(--brand); box-shadow:0 0 0 6px var(--ring)}
    .actions{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
    button{
      appearance:none; border:0; cursor:pointer;
      background:linear-gradient(180deg, var(--brand), #0f7fb0);
      color:#fff; font-weight:600; padding:12px 16px; border-radius:12px;
      box-shadow:0 8px 18px rgba(24,164,214,.22);
    }
    .copy{background:#eef6fb; color:#0d3554; border:1px solid #cfe7f3}
    .chat-box{
      margin-top:14px; padding:14px; background:#f3f7fb;
      border:1px solid #e1ebf5; border-radius:12px; white-space:pre-wrap;
    }
    .typing{display:inline-block; min-width:26px}
    .dot{display:inline-block; width:6px; height:6px; margin:0 1px;
         border-radius:50%; background:#5b7ea0; animation:b .9s infinite ease-in-out}
    .dot:nth-child(2){animation-delay:.15s}
    .dot:nth-child(3){animation-delay:.3s}
    @keyframes b{0%,80%,100%{opacity:.2; transform:translateY(0)} 40%{opacity:1; transform:translateY(-2px)}}
    footer{max-width:860px; margin:16px auto 40px; padding:0 16px; color:#6a7a8e; font-size:13px}
    footer a{color:#0f7fb0; text-decoration:none} footer a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <!-- Brand header -->
  <section class="hero">
    <div class="wrap">
      <img class="logo" src="assets/infratec-logo.png" alt="INFRATEC Training" onerror="this.replaceWith(document.createTextNode('INFRATEC TRAINING'))">
      <div>
        <h1>Confined Space Coach</h1>
        <div class="tag">Your 24/7 expert for confined space safety, rescue & best practice. Built by INFRATEC.</div>
      </div>
    </div>
  </section>

  <!-- App panel -->
  <main class="wrap-main">
    <div class="panel">
      <label for="question">Ask a question</label>
      <textarea id="question" rows="4" placeholder="e.g., What are the pre‑entry checks for medium risk (UK)?"></textarea>
      <div class="actions">
        <button onclick="askChat()">Ask</button>
        <button class="copy" onclick="copyAnswer()">Copy answer</button>
      </div>
      <div id="response" class="chat-box" aria-live="polite"></div>
    </div>
  </main>

  <footer>
    Advisory only — always follow company procedures and competent person guidance. © <span id="y"></span> INFRATEC Training •
    <a href="https://www.infratec-training.com" target="_blank" rel="noopener">infratec-training.com</a>
  </footer>

  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
  <script src="script.js"></script>
  <script>
    // Copy button
    function copyAnswer(){
      const el = document.getElementById('response');
      const txt = el.innerText || el.textContent || '';
      if(!txt.trim()){ alert('There is no answer to copy yet.'); return; }
      navigator.clipboard.writeText(txt).then(()=>{ 
        const old = el.style.outline; el.style.outline='2px solid #18A4D6';
        setTimeout(()=>el.style.outline=old, 400);
      });
    }
  </script>
</body>
</html>